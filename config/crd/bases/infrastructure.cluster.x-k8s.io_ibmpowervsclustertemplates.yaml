---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
  name: ibmpowervsclustertemplates.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: IBMPowerVSClusterTemplate
    listKind: IBMPowerVSClusterTemplateList
    plural: ibmpowervsclustertemplates
    shortNames:
    - ibmpowervsct
    singular: ibmpowervsclustertemplate
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Time duration since creation of IBMPowerVSClusterTemplate
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: IBMPowerVSClusterTemplate is the schema for IBM Power VS Kubernetes
          Cluster Templates.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: IBMPowerVSClusterTemplateSpec defines the desired state of
              IBMPowerVSClusterTemplate.
            properties:
              template:
                description: IBMPowerVSClusterTemplateResource describes the data
                  needed to create an IBMPowerVSCluster from a template.
                properties:
                  metadata:
                    description: 'Standard object''s metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata'
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: 'Annotations is an unstructured key value map
                          stored with a resource that may be set by external tools
                          to store and retrieve arbitrary metadata. They are not queryable
                          and should be preserved when modifying objects. More info:
                          http://kubernetes.io/docs/user-guide/annotations'
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: 'Map of string keys and values that can be used
                          to organize and categorize (scope and select) objects. May
                          match selectors of replication controllers and services.
                          More info: http://kubernetes.io/docs/user-guide/labels'
                        type: object
                    type: object
                  spec:
                    description: IBMPowerVSClusterSpec defines the desired state of
                      IBMPowerVSCluster.
                    properties:
                      controlPlaneEndpoint:
                        description: ControlPlaneEndpoint represents the endpoint
                          used to communicate with the control plane.
                        properties:
                          host:
                            description: The hostname on which the API server is serving.
                            type: string
                          port:
                            description: The port on which the API server is serving.
                            format: int32
                            type: integer
                        required:
                        - host
                        - port
                        type: object
                      network:
                        description: Network is the reference to the Network to use
                          for this cluster.
                        properties:
                          id:
                            description: ID of resource
                            minLength: 1
                            type: string
                          name:
                            description: Name of resource
                            minLength: 1
                            type: string
                          regex:
                            description: Regular expression to match resource, In
                              case of multiple resources matches the provided regular
                              expression the first matched resource will be selected
                            minLength: 1
                            type: string
                        type: object
                      serviceInstanceID:
                        description: ServiceInstanceID is the id of the power cloud
                          instance where the vsi instance will get deployed.
                        minLength: 1
                        type: string
                    required:
                    - network
                    - serviceInstanceID
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: false
    subresources: {}
  - additionalPrinterColumns:
    - description: Time duration since creation of IBMPowerVSClusterTemplate
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta2
    schema:
      openAPIV3Schema:
        description: IBMPowerVSClusterTemplate is the schema for IBM Power VS Kubernetes
          Cluster Templates.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: IBMPowerVSClusterTemplateSpec defines the desired state of
              IBMPowerVSClusterTemplate.
            properties:
              template:
                description: IBMPowerVSClusterTemplateResource describes the data
                  needed to create an IBMPowerVSCluster from a template.
                properties:
                  metadata:
                    description: 'Standard object''s metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata'
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: 'Annotations is an unstructured key value map
                          stored with a resource that may be set by external tools
                          to store and retrieve arbitrary metadata. They are not queryable
                          and should be preserved when modifying objects. More info:
                          http://kubernetes.io/docs/user-guide/annotations'
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: 'Map of string keys and values that can be used
                          to organize and categorize (scope and select) objects. May
                          match selectors of replication controllers and services.
                          More info: http://kubernetes.io/docs/user-guide/labels'
                        type: object
                    type: object
                  spec:
                    description: IBMPowerVSClusterSpec defines the desired state of
                      IBMPowerVSCluster.
                    properties:
                      controlPlaneEndpoint:
                        description: ControlPlaneEndpoint represents the endpoint
                          used to communicate with the control plane.
                        properties:
                          host:
                            description: The hostname on which the API server is serving.
                            type: string
                          port:
                            description: The port on which the API server is serving.
                            format: int32
                            type: integer
                        required:
                        - host
                        - port
                        type: object
                      controlPlaneLoadBalancer:
                        description: controlPlaneLoadBalancer is optional configuration
                          for customizing control plane behavior.
                        properties:
                          name:
                            description: Name sets the name of the VPC load balancer.
                            maxLength: 63
                            pattern: ^([a-z]|[a-z][-a-z0-9]*[a-z0-9])$
                            type: string
                        type: object
                      network:
                        description: Network is the reference to the Network to use
                          for this cluster. Whenf the field is omitted, A DHCP service
                          will be created in the service instance and its private
                          network will be used.
                        properties:
                          id:
                            description: ID of resource
                            minLength: 1
                            type: string
                          name:
                            description: Name of resource
                            minLength: 1
                            type: string
                          regex:
                            description: Regular expression to match resource, In
                              case of multiple resources matches the provided regular
                              expression the first matched resource will be selected
                            minLength: 1
                            type: string
                        type: object
                      resourceGroup:
                        description: resourceGroup name under which the resources
                          will be created.
                        type: string
                      serviceInstance:
                        description: serviceInstance is the reference to the Power
                          VS service on which the server instance(VM) will be created.
                          Power VS service is a container for all Power VS instances
                          at a specific geographic region. serviceInstance can be
                          created via IBM Cloud catalog or CLI. supported serviceInstance
                          identifier in PowerVSResource are Name and ID and that can
                          be obtained from IBM Cloud UI or IBM Cloud cli. More detail
                          about Power VS service instance. https://cloud.ibm.com/docs/power-iaas?topic=power-iaas-creating-power-virtual-server
                          when omitted system will dynamically create the service
                          instance
                        properties:
                          id:
                            description: ID of resource
                            minLength: 1
                            type: string
                          name:
                            description: Name of resource
                            minLength: 1
                            type: string
                          regex:
                            description: Regular expression to match resource, In
                              case of multiple resources matches the provided regular
                              expression the first matched resource will be selected
                            minLength: 1
                            type: string
                        type: object
                      serviceInstanceID:
                        description: 'ServiceInstanceID is the id of the power cloud
                          instance where the vsi instance will get deployed. Deprecated:
                          use ServiceInstance instead'
                        minLength: 1
                        type: string
                      transitGateway:
                        description: transitGateway contains information about IBM
                          Cloud TransitGateway.
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                        type: object
                      vpc:
                        description: vpc contains information about IBM Cloud VPC
                          resources
                        properties:
                          id:
                            description: ID of resource
                            minLength: 1
                            type: string
                          name:
                            description: Name of resource
                            minLength: 1
                            type: string
                          vpcZone:
                            description: IBM Cloud VPC zone
                            type: string
                        type: object
                      zone:
                        description: zone is the name of Power VS zone where the cluster
                          will be created
                        type: string
                    required:
                    - network
                    - resourceGroup
                    - serviceInstanceID
                    - zone
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: true
    subresources: {}
